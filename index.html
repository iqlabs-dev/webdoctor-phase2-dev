<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>WebDoctor â€” Scan. Diagnose. Revive.</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&display=swap" rel="stylesheet">
  <meta name="description" content="WebDoctor delivers a concise, human-verified website health report: performance, SEO, mobile, accessibility, security â€” with clear priorities.">
  <style>
    :root{--bg-top:#0A0F14;--bg-bot:#0F1822;--ink:#E9EEF2;--ink-soft:#CFE1EE;--muted:#9FB1BF;--line:#1E2C3A;--panel:#0F1821;--teal:#00BFA5;--teal-lite:#43E1BF}
    *{box-sizing:border-box}
    html,body{height:100%;scroll-behavior:smooth}
    body{margin:0;font-family:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,sans-serif;color:var(--ink);background:linear-gradient(180deg,var(--bg-top) 0%,var(--bg-bot) 100%);-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}
    .wrap{max-width:1100px;margin:0 auto;padding:0 24px}
    .section{padding:92px 0}
    .small{font-size:14px;color:var(--muted)}
    .btn{display:inline-flex;gap:10px;align-items:center;justify-content:center;padding:12px 16px;border-radius:12px;border:1px solid transparent;text-decoration:none;font-weight:700;cursor:pointer;line-height:1;transition:filter .2s, transform .12s ease}
    .btn:hover{transform:translateY(-1px)}
    .btn.primary{background:var(--teal);color:#012a22}
    .btn.primary:hover{filter:brightness(1.05)}
    #free-trial-btn:disabled{cursor:not-allowed;filter:saturate(0.6)}
    .btn.ghost{border:1px solid var(--line);color:var(--ink);background:transparent}
    .btn.ghost:hover{border-color:var(--teal);color:var(--teal-lite)}
    .panel{background:var(--panel);border:1px solid var(--line);border-radius:16px;box-shadow:0 8px 24px rgba(0,0,0,.35)}
    .header{position:sticky;top:0;z-index:50;backdrop-filter:saturate(140%) blur(6px);background:linear-gradient(180deg,rgba(10,15,20,.88),rgba(15,24,34,.72));border-bottom:1px solid rgba(30,44,58,.6)}
    .nav{display:flex;align-items:center;justify-content:space-between;gap:20px;min-height:74px}
    .brand{display:flex;align-items:center;gap:10px;font-weight:800;letter-spacing:.3px;font-size:20px;color:var(--ink)}
    .brand .dot{width:12px;height:12px;border-radius:999px;background:var(--teal)}
    .navlinks{display:flex;gap:14px;align-items:center;flex-wrap:wrap}
    .navlinks a{color:var(--ink-soft);text-decoration:none;font-weight:600;padding:6px 8px;border-radius:8px;position:relative}
    .navlinks a:hover{color:var(--teal-lite);background:rgba(0,191,165,.08)}
    .hero{padding:108px 0 88px}
    .hero .grid{display:grid;grid-template-columns:1.2fr .8fr;gap:42px;align-items:center}
    .hero h1{font-size:44px;line-height:1.12;letter-spacing:.2px}
    .hero p.lead{font-size:18px;line-height:1.65;color:var(--ink-soft);margin:12px 0 26px}
    .badges{display:flex;gap:10px;flex-wrap:wrap;margin-top:16px}
    .badge{font-size:13px;color:var(--muted);border:1px dashed var(--line);border-radius:999px;padding:6px 10px}
    .trustbar{padding:22px 0;border-top:1px solid var(--line);border-bottom:1px solid var(--line)}
    .trustbar .row{display:flex;gap:18px;flex-wrap:wrap;align-items:center;justify-content:center}
    .trustbar .item{display:flex;gap:8px;align-items:center;color:var(--muted);font-size:14px}
    .hiw .steps{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
    .step{padding:20px}
    .step b{display:block;margin-bottom:6px}
    .pricing .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
    .card{padding:18px;display:flex;flex-direction:column}
    .card h3{margin:0 0 6px}
    .price{font-size:34px;font-weight:800;margin-top:8px}
    .card ul{margin:12px 0 0 18px}
    .card li{margin:6px 0;color:#D6E7F0}
    .faq .wrap{max-width:820px}
    .faq h2{text-align:center;margin-bottom:26px}
    .faq details{border:1px solid var(--line);border-radius:14px;background:var(--panel);box-shadow:0 4px 14px rgba(0,0,0,.35);transition:.25s}
    .faq details+details{margin-top:14px}
    .faq summary{background:#101821;color:#F2F7FA;padding:16px 20px;border-radius:12px;font-weight:600;font-size:17px;line-height:1.45;letter-spacing:.15px;cursor:pointer;list-style:none;display:flex;gap:10px;align-items:flex-start;transition:color .25s,background .25s}
    .faq summary::-webkit-details-marker{display:none}
    .faq summary:after{content:'â€º';font-weight:700;font-size:18px;margin-left:auto;transition:transform .25s,color .25s;opacity:.9}
    .faq summary:hover{background:#142433;color:var(--teal-lite)}
    .faq details[open]{border-color:rgba(0,191,165,.55);box-shadow:0 0 10px rgba(0,191,165,.15)}
    .faq details[open] summary{color:var(--teal)}
    .faq details[open] summary:after{transform:rotate(90deg);color:var(--teal-lite)}
    .faq .a{opacity:0;transform:translateY(-4px);max-height:0;overflow:hidden;border-top:1px solid var(--line);transition:opacity .28s ease,transform .28s ease,max-height .35s ease}
    .faq details[open] .a{opacity:1;transform:translateY(0);max-height:640px;padding-top:12px}
    .faq .a{color:#D6E7F0;margin:12px 22px;font-size:15.5px;line-height:1.65}
    .footer{padding:40px 0;border-top:1px solid var(--line);color:var(--muted);font-size:14px;text-align:center;background:linear-gradient(180deg, rgba(15,24,34,.9), rgba(10,15,20,1))}
    .reveal{opacity:0;transform:translateY(14px);transition:opacity .6s ease,transform .6s ease}
    .reveal.is-in{opacity:1;transform:translateY(0)}
    a[href^="mailto:"]{color:var(--teal-lite);text-decoration:none}
    a[href^="mailto:"]:hover{color:var(--teal);text-decoration:underline}
    /* pricing tweaks from your version */
    .pricing .panel.card{border:1px solid rgba(0,255,200,.1);border-radius:12px;background:#0f1115;transition:.3s;padding:1.75rem 1.5rem;display:flex;flex-direction:column;justify-content:space-between;height:100%}
    .pricing .panel.card:hover{border-color:rgba(0,255,200,.4);box-shadow:0 0 15px rgba(0,255,200,.15);transform:translateY(-2px)}
    .pricing .btn.primary{display:block;width:100%;text-align:center;background:#14b8a6;color:#fff;font-weight:700;border-radius:6px;padding:.75rem 1rem;text-decoration:none;transition:.2s;text-transform:uppercase;font-size:1rem;letter-spacing:.5px}
    /* trust section */
    .trust{background:#0f1115;padding:3rem 0;border-top:1px solid rgba(0,255,200,.1)}
    .trust .wrap{max-width:900px;margin:0 auto;color:#d8e3e6;font-size:.95rem;line-height:1.55}
    .trust h2{font-size:1.5rem;font-weight:700;margin-bottom:.75rem;color:#fff}
    .trust h3{font-size:1rem;font-weight:600;color:#00e0b8;margin-top:1.5rem;margin-bottom:.5rem}
    .trust ul{list-style:none;padding-left:0;margin:0 0 1.25rem 0}
    .trust ul li{margin:.25rem 0}
    .trust .summary{background:rgba(255,255,255,.03);border-radius:10px;padding:1rem 1.25rem;margin-top:2rem;border:1px solid rgba(0,255,200,.1)}
    /* modals (kept for Stripe email capture) */
    .modal{position:fixed;inset:0;z-index:100;background:rgba(0,0,0,.86);display:none;align-items:center;justify-content:center;padding:24px}
    .modal.in{display:flex}
    .modal-content{max-width:420px;width:100%;background:#0B141B;border-radius:16px;border:1px solid var(--line);padding:24px 20px;color:#E9EEF2;box-shadow:0 24px 60px rgba(0,0,0,.65)}
    .modal h2{margin:0 0 8px;font-size:20px}
    .modal p{margin:0 0 16px;font-size:14px;color:var(--ink-soft)}
    .modal input{width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--line);background:#0f1722;color:#E9EEF2;margin-bottom:14px;font-size:14px}
    .modal-buttons{display:flex;gap:10px;justify-content:flex-end}
    .modal-buttons button{flex:1;padding:10px 12px;border-radius:999px;border:0;font-weight:700;cursor:pointer}
    #emailSubmit{background:var(--teal);color:#012a22}
    #emailCancel{background:#111827;color:#E5E7EB}
    .modal-success{width:32px;height:32px;border-radius:999px;border:2px solid var(--teal-lite);display:none;align-items:center;justify-content:center;margin:0 auto 10px auto;color:var(--teal-lite);font-weight:700}
  </style>
</head>
<body>

  <!-- HEADER -->
  <header class="header">
    <div class="wrap nav">
      <div class="brand"><span class="dot"></span><span>WebDoctor</span></div>
      <nav class="navlinks">
        <a href="#hiw" class="hide-sm">How it works</a>
        <a href="#pricing">Pricing</a>
        <a href="#faq">FAQ</a>
        <a href="#trust">Trust</a>
      </nav>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero" id="top">
    <div class="wrap">
      <div class="grid">
        <div class="reveal">
          <span class="badge">ðŸ©º Early Access</span>
          <h1>Scan. Diagnose. Revive.<br>Clarity on what matters mostâ€”and what to fix first.</h1>
          <h2 style="font-weight:700;margin-top:8px;color:#CFE1EE;font-size:22px">
            Performance Â· SEO Â· Mobile Â· Accessibility Â· Security
          </h2>
          <p class="lead">
            A complete website health check â€” built for web agencies. WebDoctor scans performance, SEO, mobile,
            accessibility, and security, then delivers a clear, client-ready report showing exactly what to fix first.
          </p>
          <div class="cta-group" style="display:flex;align-items:center;gap:.75rem;flex-wrap:wrap;">
            <button id="start-trial" class="btn primary">Start Free 3-Day Trial</button>
            <span style="color:#94a3b8;font-size:.9rem;">Experience all Revive features â€” cancel anytime.</span>
          </div>
        </div>
        <div class="badges">
          <span class="badge">âœ“ Instant Reports</span>
          <span class="badge">âœ“ No Logins Required</span>
          <span class="badge">âœ“ Agency-Friendly</span>
          <span class="badge">âœ“ Fair-Use Protected</span>
          <span class="badge">âœ“ Secure & Private</span>
          <span class="badge">âœ“ Made in New Zealand</span>
        </div>
      </div>
    </div>
  </section>

  <!-- WHY -->
  <section class="trustbar" id="why-webdoctor">
    <div class="wrap">
      <h2 style="text-align:center; margin-bottom:1rem;">Why WebDoctor</h2>
      <div class="row reveal" style="justify-content:center; text-align:center; gap:1.5rem;">
        <div class="item">âš¡ <strong>Instant insight:</strong> Scan any website in seconds â€” no installs, no logins.</div>
        <div class="item">ðŸ“„ <strong>Client-ready reports:</strong> Branded PDFs agencies can send straight to clients.</div>
        <div class="item">ðŸ©º <strong>Actionable priorities:</strong> Ranked fixes so teams know exactly where to start.</div>
      </div>
    </div>
  </section>

  <!-- HOW IT WORKS -->
  <section class="section hiw" id="hiw">
    <div class="wrap">
      <h2 class="reveal">How it works</h2>
      <p class="small reveal">A fast, honest workflow â€” built for designers, studios, and busy founders.</p>
      <div class="steps">
        <div class="panel step reveal"><b>1) Submit URL</b><span class="small">No logins required. Optional notes welcome.</span></div>
        <div class="panel step reveal"><b>2) Scan + Verify</b><span class="small">Automated checks + human review to reduce false alarms.</span></div>
        <div class="panel step reveal"><b>3) Instant Report</b><span class="small">Your diagnostic report is generated and emailed within seconds.</span></div>
      </div>
    </div>
  </section>

  <!-- PRICING -->
  <section class="section pricing" id="pricing">
    <div class="wrap">
      <h2>Pricing â€” Hybrid Fair-Use</h2>
      <p class="small">
        Simple monthly plans with fair scan limits to keep system performance consistent and prevent abuse. Reports are emailed instantly, and extra scans are just $1 each.
      </p>

      <div class="grid">
        <div class="panel card">
          <h3>Scan</h3>
          <p class="price">$14.95 <span>/ month</span></p>
          <p class="subtitle">For freelancers and site owners</p>
          <ul>
            <li>Performance &amp; SEO overview</li>
            <li>Includes <strong>250 reports / month</strong></li>
            <li>$1 per extra report after 250</li>
            <li>PDF report emailed instantly</li>
          </ul>
          <button id="scan-btn" class="btn primary">Scan</button>
        </div>

        <div class="panel card">
          <h3>Diagnose</h3>
          <p class="price">$29.95 <span>/ month</span></p>
          <p class="subtitle">Best for agencies &amp; marketers</p>
          <ul>
            <li>Everything in Scan + technical &amp; SEO diagnostics</li>
            <li>UX &amp; accessibility metrics</li>
            <li>Includes <strong>500 reports / month</strong></li>
            <li>$1 per extra report after 500</li>
            <li>Full diagnostic PDF emailed instantly</li>
          </ul>
          <button id="diagnose-btn" class="btn primary">Diagnose</button>
        </div>

        <div class="panel card">
          <h3>Revive</h3>
          <p class="price">$49.95 <span>/ month</span></p>
          <p class="subtitle">For studios &amp; high-volume users</p>
          <ul>
            <li>20-point matrix + step-by-step fix guide</li>
            <li>AI recommendations &amp; priority support</li>
            <li>White-label report option for agencies</li>
            <li>Includes <strong>1,000 reports / month</strong></li>
            <li>$1 per extra report after 1,000</li>
            <li>Professional report package â€” emailed instantly</li>
          </ul>
          <button id="revive-btn" class="btn primary">Revive</button>
        </div>
      </div>

      <p style="text-align:center; font-size:15px; color:#6CAFB7; margin-top:20px;">
        <em>Need something tailored?</em>
        <a href="mailto:pricing@webdoctor.tech" style="color:#6CAFB7; text-decoration:none; font-weight:600;">pricing@webdoctor.tech</a>
      </p>
    </div>
  </section>

  <!-- FAQ -->
  <section class="section faq" id="faq">
    <div class="wrap">
      <h2 class="reveal">FAQ</h2>
      <details class="reveal">
        <summary>What is WebDoctor?</summary>
        <div class="a">WebDoctor is an AI-assisted website health scan built for agencies, studios, and site owners. It checks performance, SEO, mobile, accessibility, and security â€” then delivers a branded, client-ready PDF highlighting what to fix first.</div>
      </details>
      <details class="reveal">
        <summary>How fast will I receive my report?</summary>
        <div class="a">Reports are delivered instantly â€” generated and emailed within seconds after submission.</div>
      </details>
      <details class="reveal">
        <summary>What exactly is included in the PDF report?</summary>
        <div class="a">WebDoctor is an AI-assisted website health scan built for agencies, studios, and site owners. It checks performance, SEO, mobile, accessibility, and security â€” then delivers an instant diagnostic report. Higher-tier plans include branded, client-ready PDFs and advanced insights.</div>
      </details>
      <details class="reveal">
        <summary>What do you need from me to start?</summary>
        <div class="a">Just your website URL â€” no logins or setup required.</div>
      </details>
      <details class="reveal">
        <summary>How is the WebDoctor score calculated?</summary>
        <div class="a">The score is based on WebDoctorâ€™s proprietary 20-point weighted model.</div>
      </details>
      <details class="reveal">
        <summary>Do you store or reuse my data?</summary>
        <div class="a">No. WebDoctor doesnâ€™t permanently store or reuse any data.</div>
      </details>
      <details class="reveal">
        <summary>Can agencies white-label the report?</summary>
        <div class="a">Yes â€” Diagnose and Revive plans include optional white-label delivery.</div>
      </details>
    </div>
  </section>

  <!-- TRUST -->
  <section class="section trust" id="trust">
    <div class="wrap">
      <h2>Trust, Privacy &amp; Verification</h2>
      <p>WebDoctor is built <em>privacy-first</em>. No logins. No tracking cookies. No stored content â€” just a clean scan and a clear report.</p>

      <h3>ðŸ”’ Privacy &amp; Security at a Glance</h3>
      <ul>
        <li>No logins, cookies, or personal data collected.</li>
        <li>Website content is never stored â€” reports are generated, delivered, then securely deleted.</li>
        <li>All traffic uses HTTPS encryption.</li>
        <li>Each report includes a unique Scan ID and timestamp for verification.</li>
      </ul>

      <h3>ðŸ§¾ Verification &amp; Contact</h3>
      <ul>
        <li>Verify a report: <a href="mailto:verify@webdoctor.tech">verify@webdoctor.tech</a></li>
        <li>Privacy questions: <a href="mailto:privacy@webdoctor.tech">privacy@webdoctor.tech</a></li>
        <li>Security contact: <a href="mailto:security@webdoctor.tech">security@webdoctor.tech</a></li>
      </ul>

      <div class="summary">
        <h3>ðŸ“œ Summary</h3>
        <ul>
          <li>No logins required to run a scan.</li>
          <li>Only public pages you specify are read.</li>
          <li>Temporary scan data is deleted after delivery.</li>
          <li>Full Privacy Policy available on request.</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="wrap">
      Â© 2025 WebDoctor â€” All Rights Reserved â€” Made in New Zealand.
    </div>
  </footer>

  <!-- SHARED MODAL -->
  <div id="emailModal" class="modal">
    <div class="modal-content">
      <div id="emailSuccess" class="modal-success">âœ“</div>
      <h2>Start Your WebDoctor Subscription</h2>
      <p>Enter your email to begin checkout.<br>
        Youâ€™ll be redirected to a secure Stripe page to confirm your plan.</p>
      <input type="email" id="emailInput" placeholder="you@example.com" required>
      <div class="modal-buttons">
        <button id="emailSubmit">Continue â†’</button>
        <button id="emailCancel">Cancel</button>
      </div>
    </div>
  </div>

  <!-- SCRIPTS -->
  <script>
    // reveal animation
    const revealEls = document.querySelectorAll('.reveal');
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        if(e.isIntersecting){
          e.target.classList.add('is-in');
          io.unobserve(e.target);
        }
      });
    },{threshold:0.18});
    revealEls.forEach(el=>io.observe(el));

    // Stripe price IDs (TEST)
    const PRICE_ID_SCAN     = 'price_1SQ4knHrtPY0HwDpFHfxNdoZ';
    const PRICE_ID_DIAGNOSE = 'price_1SQ4oZHrtPY0HwDpjLOnlC5k';
    const PRICE_ID_REVIVE   = 'price_1SQ4qUHrtPY0HwDpSDWJDBpb';

    // pricing â†’ email â†’ Stripe checkout
    async function handleCheckout(priceId) {
      const modal       = document.getElementById("emailModal");
      const emailInput  = document.getElementById("emailInput");
      const emailSubmit = document.getElementById("emailSubmit");
      const emailCancel = document.getElementById("emailCancel");
      const success     = document.getElementById("emailSuccess");

      // reset UI
      success.style.display = 'none';
      emailInput.value = '';

      modal.style.display = "flex";

      const email = await new Promise((resolve) => {
        emailSubmit.onclick = () => {
          const v = emailInput.value.trim();
          if (!v) {
            alert("Please enter your email.");
            return;
          }
          success.style.display = 'flex';
          setTimeout(() => resolve(v), 700);
        };
        emailCancel.onclick = () => {
          modal.style.display = "none";
          resolve(null);
        };
      });

      if (!email) return;

      try {
        const response = await fetch('/.netlify/functions/create-checkout-session', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ priceId, email })
        });

        const text = await response.text();
        let data;
        try {
          data = JSON.parse(text);
        } catch (e) {
          console.error('Non-JSON response from checkout function:', text);
          alert('Stripe error. Please try again.');
          modal.style.display = "none";
          return;
        }

        if (data.url) {
          window.location.href = data.url;
        } else {
          alert('Checkout failed. Please try again.');
          modal.style.display = "none";
        }
      } catch (err) {
        console.error(err);
        alert('Network error. Please try again.');
        modal.style.display = "none";
      }
    }

    document.getElementById('scan-btn')
      .addEventListener('click', () => handleCheckout(PRICE_ID_SCAN));
    document.getElementById('diagnose-btn')
      .addEventListener('click', () => handleCheckout(PRICE_ID_DIAGNOSE));
    document.getElementById('revive-btn')
      .addEventListener('click', () => handleCheckout(PRICE_ID_REVIVE));

    // trial â†’ send to Supabase login with ?trial=1
    document.addEventListener("DOMContentLoaded", () => {
      const btn = document.getElementById("start-trial");
      if (!btn) return;
      btn.addEventListener("click", (e) => {
        e.preventDefault();
        window.location.href = "/login.html?trial=1";
      });
    });
  </script>

</body>
</html>
